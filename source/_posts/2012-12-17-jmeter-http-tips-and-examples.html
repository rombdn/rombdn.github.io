---
layout: post
title: JMeter HTTP tips and examples
tags:
- jmeter
- load
- peoplesoft
- performance
- Performance
- testing
status: publish
type: post
published: true
meta:
  _publicize_pending: '1'
  _edit_last: '9835614'
  jabber_published: '1355764179'
  original_post_id: '27'
  _wp_old_slug: '27'
---
<strong>Load all resources attached to a html file</strong>
<a href="http://bal2o.wordpress.com/2012/12/17/jmeter-http-tips-and-examples/http-request/" rel="attachment wp-att-28"><img class="alignnone size-medium wp-image-28" alt="http-request" src="http://rombdn.files.wordpress.com/2012/12/http-request.png?w=300" width="300" height="222" /></a>
Useful when working with frames to avoid one http request per frame (I use this a lot when scripting for PeopleSoft ERP).

<strong>Extract value to variable with regular expressions</strong>
<a href="http://bal2o.wordpress.com/2012/12/17/jmeter-http-tips-and-examples/regex/" rel="attachment wp-att-32"><img class="alignnone size-medium wp-image-32" alt="regex" src="http://rombdn.files.wordpress.com/2012/12/regex1.png?w=300" width="300" height="138" /></a>
You can use a Debug Listener to adjust the regexp.
In this example (PeopleSoft) I checked "Main sample and sub-samples" because the value to be extracted is in a frame.

<strong>Testing a variable</strong>
<a href="http://bal2o.wordpress.com/2012/12/17/jmeter-http-tips-and-examples/if-test/" rel="attachment wp-att-33"><img class="alignnone size-medium wp-image-33" alt="if-test" src="http://rombdn.files.wordpress.com/2012/12/if-test.png?w=300" width="300" height="69" /></a>
In this example I verify that the Regular Expression hereabove worked.

<strong>Javascript in parameters (e.g. to randomize a choice)</strong>
First we get the number of values :
<a href="http://bal2o.wordpress.com/2012/12/17/jmeter-http-tips-and-examples/random-1/" rel="attachment wp-att-36"><img class="alignnone size-medium wp-image-36" alt="random-1" src="http://rombdn.files.wordpress.com/2012/12/random-1.png?w=300" width="300" height="92" /></a>
Then we replace the parameter with our javascript.

[sourcecode language="javascript"]
Math.floor( Math.random() * ${VALUES_COUNT} ) )
[/sourcecode]

In JMeter it becomes

[sourcecode language="javascript"]
${__javaScript( Math.floor( Math.random() * ${NB_Lignes } ) ) }
[/sourcecode]

<a href="http://bal2o.wordpress.com/2012/12/17/jmeter-http-tips-and-examples/random-2/" rel="attachment wp-att-37"><img class="alignnone size-medium wp-image-37" alt="random-2" src="http://rombdn.files.wordpress.com/2012/12/random-2.png?w=300" width="300" height="99" /></a>
Note : The double $$ is due to the variable name in PeopleSoft (AF_PCC_WRK_SELECT_PB$1, AF_PCC_WRK_SELECT_PB$2...)


<p style="text-align:right;"><a href="https://plus.google.com/112678424699484797019" rel="author">Romain</a></p>
